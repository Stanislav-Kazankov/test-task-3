"use strict";!function(){for(var _="00:00",g=36e5/34,v=document.querySelector(".chart__head-col").offsetWidth,S=v+816,e=function(e,t){return'<li class="table__cell table__cell--'+(r=e)+'"'+("data"===r?"data-bind=click:$parent.invertHour,style:{backgroundColor:working()?&quot#0066ff&quot:&quot#dfe4ef&quot}":"")+">"+t+"</li>";var r},t=document.querySelector(".schedule__chart"),r="",m=t.querySelector(".chart__table"),T=m.cloneNode(!0),k=function(e){var t=e;return Number.parseInt(e,10)<=9&&(t="0"+e),t},n=0;n<24;n++)r+=e("head",n%2?k(n.toString())+'<sup style="font-size: 9px;">00</sup>':"");t.querySelector(".table__head").insertAdjacentHTML("beforeend",r);var o=t.querySelector(".table__body");o.insertAdjacentHTML("beforeend",e("data","")),T.querySelector(".table__head").insertAdjacentHTML("beforeend",r),t.appendChild(T),m.setAttribute("data-bind","style: {marginLeft: tableOffset()}"),(o=T.querySelector(".table__body")).insertAdjacentHTML("beforeend",e("data","")),ko.applyBindings(new function(){var a=this;function e(e){this.working=ko.observable(e)}function t(e){return Date.parse("2000-01-01T"+e+":00.000Z")}a.startTimeStr=ko.observable(_),a.endTimeStr=ko.observable(_),a.timeDiffInPixels=ko.computed(function(){var e=t(a.endTimeStr())-t(a.startTimeStr());return 0!=e?e/g:816},a),a.chartWidth=ko.computed(function(){var e=a.timeDiffInPixels(),t=e-1;return 0<=e?v+t:S+t},a),a.tableOffset=ko.computed(function(){return-(t(a.startTimeStr())-t(_))/g},a);var u=m.querySelectorAll(".table__cell--head"),i=u[0];function r(e){return e.slice(0,2)}function n(e){return e.slice(3,5)}function l(e){return Number.parseInt(n(e),10)}function c(e,t){e.childNodes[0].textContent=r(t),e.querySelector("sup").textContent=n(t)}function s(e,t){return Array.from(e).indexOf(t)}function d(e){return Number.parseInt(r(e),10)}a.startTimeStr.subscribe(function(e){var t=s(u,i);t%2&&(i.style.paddingRight=i.style.paddingLeft="3px",c(i,k(t.toString())+":00"));var r,n=d(e),o=u[n];n%2?(c(o,0<(r=l(e))?e:""),o.style.paddingLeft=(34*r/60).toString()+"px",o.style.paddingRight="0"):n&&(u[n-1].style.paddingLeft="0"),i=o});var f=T.querySelectorAll(".table__cell--head"),b=u,y=u[22];function h(e,t){t.innerHTML=e.innerHTML,e.innerHTML=""}a.endTimeStr.subscribe(function(e){var t=s(b,y);t%2&&""!==b[t-1].innerHTML&&(h(b[t-1],b[t]),b[t-1].style.textAlign="left");var r=d(a.startTimeStr())<=d(e)?u:f,n=d(e),o=r[n],i=l(e);n%2&&0<i&&i<49&&(h(r[n],r[n-1]),r[n-1].style.textAlign="right"),b=r,y=o}),a.scheduleHours=ko.observableArray(new Array);for(var o=0;o<168;o++)a.scheduleHours().push(new e(!0));function p(e){for(var t=0;t<168;t++)a.scheduleHours()[t].working(e)}a.invertHour=function(e){e.working(!e.working())},a.fillHoursAuto=function(){p(!0)},a.clearHours=function(){p(!1)}})}();
//# sourceMappingURL=view-model.min.js.map
